{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../services/api.service\";\nimport * as i3 from \"../services/classes.service\";\nimport * as i4 from \"../services/diretores.service\";\nimport * as i5 from \"@angular/router\";\nexport let TituloFormComponent = /*#__PURE__*/(() => {\n  class TituloFormComponent {\n    fb;\n    api;\n    classesService;\n    diretoresService;\n    router;\n    route;\n    tituloForm;\n    classes = [];\n    diretores = [];\n    id;\n    editMode = false;\n    constructor(fb, api, classesService, diretoresService, router, route) {\n      this.fb = fb;\n      this.api = api;\n      this.classesService = classesService;\n      this.diretoresService = diretoresService;\n      this.router = router;\n      this.route = route;\n    }\n    ngOnInit() {\n      this.tituloForm = this.fb.group({\n        nome: ['', Validators.required],\n        classeId: ['', Validators.required],\n        diretorId: ['', Validators.required]\n      });\n      this.classesService.getClasses().subscribe(data => this.classes = data);\n      this.diretoresService.getDiretores().subscribe(data => this.diretores = data);\n      this.id = +this.route.snapshot.paramMap.get('id');\n      if (this.id) {\n        this.editMode = true;\n        this.api.getTitulo(this.id).subscribe(t => this.tituloForm.patchValue(t));\n      }\n    }\n    save() {\n      const t = this.tituloForm.value;\n      if (this.editMode) {\n        this.api.updateTitulo(this.id, t).subscribe(() => this.router.navigate(['/titulos']));\n      } else {\n        this.api.createTitulo(t).subscribe(() => this.router.navigate(['/titulos']));\n      }\n    }\n    static ɵfac = function TituloFormComponent_Factory(t) {\n      return new (t || TituloFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.ClassesService), i0.ɵɵdirectiveInject(i4.DiretoresService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i5.ActivatedRoute));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TituloFormComponent,\n      selectors: [[\"app-titulo-form\"]],\n      decls: 0,\n      vars: 0,\n      template: function TituloFormComponent_Template(rf, ctx) {}\n    });\n  }\n  return TituloFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}